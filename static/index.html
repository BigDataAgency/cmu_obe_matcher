<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Å‡∏±‡∏ö CLO</title>
    <link rel="stylesheet" href="/static/styles.css?v=2">
    <link rel="stylesheet" href="/static/hierarchy_layout.css?v=1">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="/static/plo_renderer.js?v=2"></script>
    <script src="/static/searchable_dropdown.js?v=1"></script>
    <script src="/static/plo_heatmap.js?v=1"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Å‡∏±‡∏ö CLO</h1>
            <p class="subtitle">‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤ (CLO) ‡∏î‡πâ‡∏ß‡∏¢ AI</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="add-company" onclick="showTab('add-company')">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
            <button class="tab-btn" data-tab="dashboard" onclick="showTab('dashboard')">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</button>
            <button class="tab-btn" data-tab="companies" onclick="showTab('companies')">üè¢ ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
            <button class="tab-btn" data-tab="clos" onclick="showTab('clos')">üìö ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ CLO</button>
        </div>

        <div id="add-company-tab" class="tab-content active">
            <div class="card">
                <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏´‡∏°‡πà</h2>
                <form id="company-form">
                    <div class="form-group">
                        <label for="company-name">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó *</label>
                        <input type="text" id="company-name" placeholder="‡πÄ‡∏ä‡πà‡∏ô Tech Startup Inc." required>
                    </div>
                    
                    <div class="form-group">
                        <label for="requirements">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ *</label>
                        <div style="display:flex; gap:8px; align-items:flex-start;">
                            <textarea id="requirements" rows="6" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£..." required style="flex:1;"></textarea>
                            <button type="button" class="btn-help" onclick="helpWriteField('requirements')" title="‡πÉ‡∏´‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô">‚ú®</button>
                        </div>
                        <small>‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô?</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="culture">‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</label>
                        <div style="display:flex; gap:8px; align-items:flex-start;">
                            <textarea id="culture" rows="4" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô..." style="flex:1;"></textarea>
                            <button type="button" class="btn-help" onclick="helpWriteField('culture')" title="‡πÉ‡∏´‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô">‚ú®</button>
                        </div>
                        <small>‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö: ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="desired-traits">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞/‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (Soft Skills)</label>
                        <div style="display:flex; gap:8px; align-items:flex-start;">
                            <textarea id="desired-traits" rows="4" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô soft skills ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£..." style="flex:1;"></textarea>
                            <button type="button" class="btn-help" onclick="helpWriteField('desired_traits')" title="‡πÉ‡∏´‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô">‚ú®</button>
                        </div>
                        <small>‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö: ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô?</small>
                    </div>
                    
                    <button type="submit" class="btn-primary">üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡πâ‡∏ß‡∏¢ AI</button>
                </form>
                
                <div id="analysis-result" class="result-section" style="display:none;">
                    <h3>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏≤‡∏Å AI</h3>
                    <div id="company-info"></div>
                    <div id="ai-reasoning" class="reasoning-box"></div>

                    <div id="grouped-analysis" style="display:block;">
                        <div class="grouped-results-layout" style="margin-top: 16px;">
                            <div class="grouped-results-left">
                                <div class="card" style="margin-top: 0;">
                                    <h4>‡∏Å‡∏•‡∏∏‡πà‡∏° (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)</h4>
                                    <div id="groups-editor"></div>
                                </div>
                            </div>
                            <div class="grouped-results-right">
                                <div class="card" style="margin-top: 0;">
                                    <h4>‡∏™‡∏£‡∏∏‡∏õ CLO ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°)</h4>
                                    <div id="union-clos-summary"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn-primary" onclick="saveCompany()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
                        <button class="btn-secondary" onclick="resetForm()">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="dashboard-tab" class="tab-content">
            <div class="card">
                <h2>üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå CLO</h2>

                <div id="dashboard-empty" class="empty-state" style="display:none; margin-bottom: 20px;">
                    <div class="empty-state-icon">üìä</div>
                    <div class="empty-state-text">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-value" id="total-companies">0</div>
                        <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìö</div>
                        <div class="stat-value" id="total-clos-used">0</div>
                        <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô CLO ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" id="most-popular-clo">-</div>
                        <div class="stat-label">CLO ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-value" id="avg-clos-per-company">0</div>
                        <div class="stat-label">‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ CLO ‡∏ï‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏Ç‡∏≠‡∏á CLO ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</h3>
                        <canvas id="clo-frequency-chart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Top 10 CLO ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</h3>
                        <canvas id="top-clos-chart"></canvas>
                    </div>
                </div>

                <div class="chart-container-full">
                    <h3>Heatmap ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó - CLO (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ CLO ‡∏ó‡∏µ‡πà match)</h3>
                    <div id="heatmap-container"></div>
                </div>
                
                <div class="chart-container-full">
                    <h3>Heatmap ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó - PLO (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ PLO ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á)</h3>
                    <div id="plo-heatmap-container"></div>
                </div>

                <div class="chart-container-full">
                    <h3>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ: ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó / ‡∏Å‡∏•‡∏∏‡πà‡∏° / CLO ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°</h3>
                    <div id="dashboard-groups-table"></div>
                </div>
            </div>
        </div>

        <div id="companies-tab" class="tab-content">
            <div class="card">
                <h2>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                <div class="button-group" style="margin-bottom: 16px;">
                    <button class="btn-secondary" onclick="generateMockData()">üß™ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 10 ‡∏£‡∏≤‡∏¢</button>
                </div>
                <div id="companies-loading" class="loading" style="display:none;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó...</div>
                <div id="companies-list"></div>
            </div>
        </div>

        <div id="clos-tab" class="tab-content">
            <div class="card">
                <h2>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤ (CLO)</h2>
                <div id="clos-loading" class="loading" style="display:none;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ CLO...</div>
                <div id="clos-reference"></div>
            </div>
        </div>

        <div id="company-detail-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modal-company-name"></h2>
                <div id="modal-company-details"></div>
                <div id="modal-grouped-editor" style="display:block;">
                    <div class="grouped-results-layout" style="margin-top: 16px;">
                        <div class="grouped-results-left">
                            <div class="card" style="margin-top: 0;">
                                <h3>‡∏Å‡∏•‡∏∏‡πà‡∏° (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)</h3>
                                <div id="modal-groups-editor"></div>
                            </div>
                        </div>
                        <div class="grouped-results-right">
                            <div class="card" style="margin-top: 0;">
                                <h3>‡∏™‡∏£‡∏∏‡∏õ CLO ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°)</h3>
                                <div id="modal-union-clos-summary"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-primary" onclick="updateCompanyCLOs()">üíæ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CLO</button>
                    <button class="btn-danger" onclick="deleteCompany()">üóëÔ∏è ‡∏•‡∏ö‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
                    <button class="btn-secondary" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </div>
        </div>

        <div id="ai-help-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeAIHelpModal()">&times;</span>
                <h2>‚ú® ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å AI</h2>
                <div id="ai-help-loading" style="display:none; text-align:center; padding:20px;">
                    <p>üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥...</p>
                </div>
                <div id="ai-help-content" style="display:none;">
                    <div style="background:#f8f9fa; padding:15px; border-radius:8px; margin-bottom:15px;">
                        <h3 style="margin-bottom:10px;">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</h3>
                        <div id="ai-help-text" style="white-space:pre-wrap; line-height:1.6;"></div>
                    </div>
                    <div class="button-group">
                        <button class="btn-primary" onclick="useAISuggestion()">‚úÖ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ô‡∏µ‡πâ</button>
                        <button class="btn-secondary" onclick="closeAIHelpModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>¬© 2026 ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Å‡∏±‡∏ö CLO | ‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ OpenAI</p>
        </footer>
    </div>

    <script src="/static/app.js?v=2"></script>
    <script src="/static/app_plo_patch.js?v=1"></script>
</body>
</html>
